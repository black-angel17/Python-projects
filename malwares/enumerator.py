import pygame
import time

def init_controller():
    pygame.init()
    pygame.joystick.init()

    if pygame.joystick.get_count() == 0:
        print("No controllers found.")
        return None

    joystick = pygame.joystick.Joystick(0)
    joystick.init()

    print("Controller initialized:", joystick.get_name())
    return joystick

def main():
    joystick = init_controller()
    joystick

    if not joystick:
        return

    try:
        print("Press and hold any button to vibrate the controller.")
        while True:
            for event in pygame.event.get():
                if event.type == pygame.JOYBUTTONDOWN:
                    print("Vibrating the controller...")
                    joystick.rumble(1000,1000,100)
    except KeyboardInterrupt:
        print("Program terminated by user.")
    finally:
        joystick.quit()
        pygame.quit()

if __name__ == "__main__":
    main()
